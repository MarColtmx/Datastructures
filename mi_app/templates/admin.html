<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Administrar Inventario</title>
</head>
<body>
    <nav>
        <a href="/">Volver a Ventas</a>
    </nav>

    <h1>Inventario</h1>

    {% with messages = get_flashed_messages() %}
      {% if messages %}
        <ul style="color: green;">
          {% for message in messages %}
            <li>{{ message }}</li>
          {% endfor %}
        </ul>
      {% endif %}
    {% endwith %}

    <h2>Productos actuales</h2>
    <table border="1">
        <tr>
            <th>ID</th><th>Nombre</th><th>Precio</th><th>Stock</th>
        </tr>
        {% for p in productos %}
        <tr>
            <td>{{ p['id'] }}</td>
            <td>{{ p['nombre'] }}</td>
            <td>{{ p['precio'] }}</td>
            <td>{{ p['stock'] }}</td>
        </tr>
        {% endfor %}
    </table>

    <h2>Agregar producto</h2>
    <form method="POST">
        <input type="hidden" name="agregar_producto">
        Nombre: <input type="text" name="nombre" required>
        Precio: <input type="number" step="0.01" name="precio" required>
        Stock: <input type="number" name="stock" required>
        <button type="submit">Agregar</button>
    </form>

    <h2>Actualizar stock</h2>
    <form method="POST">
        <input type="hidden" name="actualizar_stock">
        ID del producto: <input type="number" name="producto_id" required>
        Cantidad (+ o -): <input type="number" name="cantidad" required>
        <button type="submit">Actualizar</button>
    </form>

    <h2>Eliminar producto</h2>
    <form method="POST">
        <input type="hidden" name="eliminar_producto">
        ID del producto: <input type="number" name="producto_id" required>
        <button type="submit">Eliminar</button>
    </form>
</body>
</html>
